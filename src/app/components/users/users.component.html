<h3 class="text-muted"><b>Lista de usuarios</b></h3>
<p class="text-muted">Lista General de usuarios en la base de datos de la organización.</p>

<form>
  <div class="mb-3 row">
    <label for="table-filtering-search" class="col-xs-3 col-sm-auto col-form-label">Busqueda por palabras clave:</label>
    <div class="col-xs-3 col-sm-auto">
      <input id="table-filtering-search" class="form-control" type="text" [formControl]="filter">
    </div>
  </div>
</form>
<div class="" style="width: auto; height: 400px; overflow: scroll;">
    <table class="table table-striped">
        <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Country</th>
          <th scope="col">Area</th>
          <th scope="col">Population</th>
          <th scope="col">Estado</th>
          <th scope="col">Editar</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let country of countries | async; index as i">
          <th scope="row">{{ i + 1 }}</th>
          <td>
            <img [src]="'https://upload.wikimedia.org/wikipedia/commons/' + country.flag" class="me-2" style="width: 20px">
            <ngb-highlight [result]="country.name" [term]="filter.value"></ngb-highlight>
          </td>
          <td><ngb-highlight [result]="country.area | number" [term]="filter.value"></ngb-highlight></td>
          <td><ngb-highlight [result]="country.population | number" [term]="filter.value"></ngb-highlight></td>
          <td>
            <div *ngIf = "activo; else inactivo" class="form-check form-switch text-success">
                <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" checked>
                <label class="form-check-label" for="flexSwitchCheckDefault">Activo</label>
            </div>
            <ng-template #inactivo>
                <div class="form-check form-switch text-danger">
                    <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault">
                    <label class="form-check-label" for="flexSwitchCheckDefault">Inactivo</label>
                </div>
            </ng-template>
          </td>
          <td><button class="btn btn-disable btn-sm btn-outline-primary ms-2" data-bs-toggle="modal" data-bs-target="#edit"><i class="fas fa-user-edit"></i></button></td>
        </tr>
        </tbody>
      </table>
</div>

<!--Modal para actualizar usuario-->
<div class="modal lg fade" id="edit" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="false">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header d-flex justify-content-end" style="text-align: center; display: block;">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <app-update-user></app-update-user>
            <div class="row">
                <p class="text-muted text-center">Sistema de actualización por Administración</p>
            </div>
        </div>
    </div>
  </div>